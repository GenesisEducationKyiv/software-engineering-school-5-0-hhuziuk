## Інструкція з запуску тестів

Цей документ описує, як запускати різні види тестів у проєкті

### Передумови

1. Node.js та npm - встановлені
2. Docker встановлений та запущений
3. Для E2E-тестів встановлені залежності Playwright (`npx playwright install`)

---

### Unit Tests (модульні тести)
Перевіряють окремі модулі або сервіси в ізоляції.

Команда:
```bash
npm run test:unit
```

* Виконує Jest із конфігурацією `jest.config.js`
* Рекомендується запускати під час розробки, щоб швидко перевірити зміну бізнес-логіки

---

### Integration Tests (інтеграційні тести)
Перевіряють роботу компонентів разом, зазвичай із реальною базою даних у Docker-контейнері.
1. **Підняття середовища**
   ```bash
   npm run test:integration:up
   ```
    * Піднімає Docker-контейнери (наприклад, базу даних) за конфігурацією `docker-compose.test.yml`.

2. **Запуск інтеграційних тестів**
   ```bash
   npm run test:integration
   ```
    * Виконує Jest із конфігурацією `jest.integration.config.js`
    * Тести приєднуються до тестової БД, проводять міграції/синхронізацію та виконують перевірки

3. **Зупинка та очищення середовища**
   ```bash
   npm run test:integration:down
   ```
    * Зупиняє та видаляє Docker-контейнери, зокрема тестову БД
    * Очищає томи, якщо потрібно
---

### E2E Tests (end-to-end)
Перевіряють роботу програми у браузері через Playwright.

Команда:

```bash
npm run test:e2e
```

* Спочатку запускає локальний HTTP-сервер на порту 8080 (`npm run serve:html`)
* Далі виконує E2E-тести Playwright
* Після завершення зупиняє сервер

---

### Запуск усіх тестів однією командою
Ви можете запустити всі види тестів послідовно командою:

```bash
npm test
```

Скрипт виконує:

1. Unit тести (`npm run test:unit`)
2. Піднімає Docker для інтеграційних тестів (`npm run test:integration:up`)
3. Запускає інтеграційні тести (`npm run test:integration`)
4. Зупиняє та очищає Docker (`npm run test:integration:down`)