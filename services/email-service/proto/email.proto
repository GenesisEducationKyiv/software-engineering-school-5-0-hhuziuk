syntax = "proto3";

package email;

service EmailService {
  rpc Send (SendEmailRequest) returns (SendEmailResponse);
}

message Weather {
  double temperature = 1;
  double humidity = 2;
  string description = 3;
}

message EmailContext {
  string city = 1;
  string confirmUrl = 2;
  string unsubscribeUrl = 3;
  string greeting = 4;
  Weather weather = 5;
}

message SendEmailRequest {
  string email = 1;
  string template = 2;
  string subject = 3;
  EmailContext context = 4;
}

message SendEmailResponse {
  bool success = 1;
}
